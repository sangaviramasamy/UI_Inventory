const { playwright: playwrightConfig } = require('../blibli-integration-test.config')
const os = require('os')

const machineArch = os.cpus()
const ARM64_MACHINE_MODELS = [
  'Apple M1',
  'Apple M2'
]
const currentModel = machineArch[0].model

const isArm64Machine = ARM64_MACHINE_MODELS.some(model => currentModel.includes(model))
const isArm64 = isArm64Machine ? 'arm64-' : ''

module.exports = {
  ...playwrightConfig,
  dockerImageTag: `${isArm64}1.17.1`
}
