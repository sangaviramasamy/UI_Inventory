const fs = require('fs')
const path = require('path')
const StyleDictionary = require('style-dictionary')
const configHelper = require('./config-helper.js') 

const tokenDir = path.resolve(__dirname + '/../tokens/')
const themes = fs.readdirSync(tokenDir).filter(file => file !== 'global.json').map(theme => theme.replace('alias-', '').replace('.json', ''))

themes.forEach(theme => {
  const config = configHelper.getConfig(theme)
  StyleDictionary.extend(config).buildAllPlatforms()
})