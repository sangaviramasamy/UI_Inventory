const fs = require('fs')
const pathUtil = require('../utils/path')

function initGitHooks () {
  // destination will be created or overwritten by default.
  const resourcePath = pathUtil.getModulePath('resources/git-hooks')
  const files = fs.readdirSync(resourcePath, { withFileTypes: true })
  //listing all files using forEach
  files.forEach((file) => {
      fs.copyFileSync(pathUtil.getModulePath(resourcePath, file), pathUtil.getPath('.git/hooks', file))
      console.log(`${file} was copied to git hooks folder`)
  })
}

module.exports = {
  initGitHooks
}
