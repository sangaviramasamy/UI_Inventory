// create array that want to be published
function addPublishPackage(publishPackages, pathToFile) {
  if (publishPackages.find(i => i === pathToFile)) return
  return publishPackages.push(pathToFile)
}

// write tgz files in publish-packages.json
function writePublishPackages(fs, path, publishPackages) {
  const publishPackagesMap = publishPackages.map(i => ({path: i}))
  fs.writeFileSync('publish-packages.json', JSON.stringify(publishPackagesMap, null, 2))
}

// reset all component publish status to false in component-map.js
function resetComponentsMap(fs, componentList) {
  const map = componentList.map(i => ({...i, publish: false}))
  fs.writeFileSync('components-map.json', JSON.stringify(map, null, 2))
}

module.exports = {
  addPublishPackage,
  writePublishPackages,
  resetComponentsMap
}