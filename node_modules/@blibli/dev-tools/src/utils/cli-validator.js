const fs = require('fs')
const chalk = require('chalk')
const configUtil = require('./config')

function _validateConfig () {
  return fs.existsSync(configUtil.fullPath)
}

function validateCLIInput () {
  // validate collab config availability
  const valid = _validateConfig()

  if (!valid) {
    console.log(chalk.red('Missing Blibli Dev Tools Config file. Please put blibli-dev-tools.config.js in the root folder using this format:'))
    console.log(chalk.yellow('\nYou can change parameter values based on your project requirement(You can remove unused features and commented parameters)'))
    console.log(chalk.green(configUtil.standardFormat))
    console.log(chalk.yellow('\nPlease check detailed parameters information in this documentation:'), chalk.yellow('\nhttp://npm-registry.gdn-app.com/#/detail/@blibli/dev-tools'))
    console.log(chalk.red('\nPlease rerun after the above config is available.\n'))
  }
  return valid
}

module.exports = {
  validateCLIInput
}
